<div class="animated fadeInUp row" style="animation-delay: 0.1s">

    <div class="col-sm-12">
        <div class="form-container whitelistInputContainer">

            <div class="tbl-header">
                APIwise Whitelist
                <br>
            </div>
            <h4>Whitelist subscribers</h4>
            <div class="searchFilter">
                <div class="col-sm-4">
                    <input [(ngModel)]="subscriber"
                           [typeahead]="subscriberList"
                           [typeaheadMinLength]="0"
                           type="text"
                           class="form-control"
                           (typeaheadOnSelect)="onSubscriberSelected($event)"
                           placeholder="Select Subscriber">
                </div>
                <div class="col-sm-4">
                    <input [(ngModel)]="app"
                           [typeahead]="applicationList"
                           [typeaheadMinLength]="0"
                           type="text"
                           class="form-control"
                           (typeaheadOnSelect)="onAppSelected($event)"
                           placeholder="Select Application">
                </div>
                <div class="col-sm-4">
                    <input [(ngModel)]="api"
                           [typeahead]="apiList"
                           [typeaheadMinLength]="0"
                           type="text"
                           class="form-control"
                           (typeaheadOnSelect)="onApiSelected($event)"
                           placeholder="Select API">
                </div>
            </div>
            <div><span class="error" *ngIf="isInvalidFieldError">{{invalidFieldError}}</span></div>
            <br>
            <form class="form-horizontal" #numberlistForm="ngForm" novalidate
                  (ngSubmit)="onUploadNumber(numberlistForm)">
                <div class="form-group">
                    <label class="col-sm-2"></label>
                    <label class="col-sm-4 subtitle">Numbers list configuration </label>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2">Number:</label>
                    <div class="col-sm-6">
                        <input class="form-control"
                               autocomplete="off"
                               #nameRef="ngModel"
                               required
                               [(ngModel)]="msisdn"
                               type="text"
                               name="manualNumber"
                               placeholder="e.g.94777333100,94777333105 (Comma seperated entries)">&nbsp;
                        <span class="error" *ngIf="ismsisdnError">{{msisdnError}}</span>
                    </div>
                    <div class="col-sm-3">
                        <button type="submit" class="btn btn-primary animated fadeIn">
                            Add
                        </button>
                    </div>
                </div>
            </form>

            <form class="form-horizontal" #numberrangeForm="ngForm" novalidate
                  (ngSubmit)="onUploadNumberRange(numberrangeForm)">

                <div class="form-group">
                    <label class="col-sm-2"></label>
                    <label class="col-sm-4 subtitle">Numbers Range configuration</label>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">Min number:</label>
                    <div class="col-sm-4">
                        <input class="form-control"
                               autocomplete="off"
                               #nameRef="ngModel"
                               required
                               [(ngModel)]="msisdnMin"
                               type="number"
                               name="manualNumber">
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">Max number:</label>
                    <div class="col-sm-4">
                        <input class="form-control"
                               autocomplete="off"
                               #nameRef="ngModel"
                               required
                               [(ngModel)]="msisdnMax"
                               type="number"
                               name="manualNumber">
                        <span class="error" *ngIf="ismsisdnRangeError">{{msisdnRangeError}}</span>
                    </div>
                    <span class="glyphicon glyphicon-question-sign info-tooltip"
                          tooltip="e.g.94777333100 to 94777333200" placement="right"
                    ></span>
                </div>


                <div class="form-group">
                    <label class="control-label col-sm-2"></label>
                    <div class="col-sm-4">
                        <button class="btn btn-primary">
                            Upload Numbers List
                        </button>
                    </div>
                </div>

            </form>
            <br><br>
            <app-whitelist-list
                    [dataSource]="whitelistList"
                    (onDeleteTask)="onDeleteHandler($event)"></app-whitelist-list>

            <div class="error-container animated bounceIn" *ngIf="submissionError">{{submissionError}}</div>

        </div>

    </div>
</div>

