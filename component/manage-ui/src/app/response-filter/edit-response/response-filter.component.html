<div class="animated fadeInUp row" style="animation-delay: 0.1s">
    <div class="col-sm-12">
        <div class="card card-block card-header">
            <div class="form-container quotaInputContainer">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="col-sm-12">
                            <div class="searchFilter">
                                <div class="col-sm-3">
                                    <input [(ngModel)]="subscriber" [typeahead]="subscriberList"
                                        typeaheadOptionField="name" [typeaheadMinLength]="0" type="text"
                                        class="form-control" autocomplete="off"
                                        (typeaheadOnSelect)="onSubscriberSelected()" (input)="onSubscriberSelected()"
                                        placeholder="Service Provider" name="subscription">
                                </div>
                                <div class="col-sm-3">
                                    <input [(ngModel)]="app" [typeahead]="applications" [typeaheadMinLength]="0"
                                        type="text" class="form-control" autocomplete="off"
                                        (typeaheadOnSelect)="onAppSelected()" (input)="onAppSelected()"
                                        typeaheadOptionField="name" placeholder="Application" name="app">
                                </div>
                                <div class="col-sm-3">
                                    <input [(ngModel)]="api" [typeaheadMinLength]="0"
                                        (typeaheadOnSelect)="onApiSelected()" (input)="onApiSelected()" container="body"
                                        [typeahead]="apiList" typeaheadOptionField="id" class="form-control"
                                        autocomplete="off" name="api" placeholder="API">
                                </div>
                                <div class="col-sm-3">
                                    <input [(ngModel)]="enviorment" [typeaheadMinLength]="0"
                                        (typeaheadOnSelect)="onenviormentSelected()" (input)="onenviormentSelected()"
                                        container="body" [typeahead]="envList" typeaheadOptionField="httpPathCom"
                                        class="form-control" autocomplete="off" name="env"
                                        placeholder="Resource">
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-sm-12">
                        <div class="content-div">
                            <div *ngIf="jdata == undefined">
                                <div class="glyphicon glyphicon-info-sign info-tooltip left-block info-icon"><br/></div>
                                <div class="left-block info-text">
                                    <h5>Select the "service provider", "application", "API" and "resource" to proceed.</h5>
                                </div>
                                <br/>
                                <div class="glyphicon glyphicon-info-sign info-tooltip left-block info-icon"><br/></div>
                                <div class="left-block info-text">
                                    <h5>All resources should be well defined in the API definition before enabling
                                        API-wise response filtering.</h5>
                                </div>
                                <br/>
                                <div class="glyphicon glyphicon-info-sign info-tooltip left-block info-icon"><br/></div>
                                <div class="left-block info-text">
                                    <h5>The "response filter" mediation should be selected in "out flow" under
                                        "message mediation policies".</h5>
                                </div>
                                <br/>
                                <div class="glyphicon glyphicon-info-sign info-tooltip left-block info-icon"><br/></div>
                                <div class="left-block info-text">
                                    <h5>Response format (schema) should not be changed for each resource. eg:- if a POST
                                        request returns different response payloads (based on the request body), then
                                        response filtering for this path is not applicable.</h5>
                                </div>
                                <br/>
                                <div class="glyphicon glyphicon-info-sign info-tooltip left-block info-icon"><br/></div>
                                <div class="left-block info-text">
                                    <h5>Wildcard resource path is not recommended / supported due to the same above reason.</h5>
                                </div>
                            </div>
                            <span *ngIf="jdata == ''"
                                class="glyphicon glyphicon-question-sign center-block quarterwidth noApiSet">
                                <br>
                                <h4 class="center-block halfwidth text-center">Something wrong</h4>
                            </span>
                            <p *ngIf="isFilteredOperation" class="bg-info notifyDiv"><span
                                    class=" glyphicon glyphicon-info-sign"></span> This API
                                operation already filtered. &nbsp;&nbsp; <button class="btn btn-danger"
                                    (click)="onReset()">Reset
                                </button></p>
                            <div id="jsoneditor" style="width: 100%; height: 100%;"></div>
                            <br *ngIf="jdata != undefined && jdata != ''">
                            <button (click)="getJSON();" *ngIf="jdata != undefined && jdata != ''"
                                class="btn btn-primary animated fadeIn">Save the Response</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-----Getting Additonal property from Popup ------>

<div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title pull-left">Additional Properties</h4>
                <button type="button" class="close pull-right" (click)="lgModal.hide();" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="content-div">
                        <div class="glyphicon glyphicon-info-sign info-tooltip left-block info-icon"><br/></div>
                        <div class="left-block info-text">
                            <h5 class="margin-0">Following additional properties will be used to complete the server
                                request and <b>will not be considered</b> when filtering responses. please note that
                                the value of the <b>path params</b> should be entered without URL encoding.</h5>
                        </div>
                    </div>
                </div>
                <br/>
                <app-response-filter-payload #rfPayload [httpTypes]="httpVerb" [pathParams]="extractPathParams(enviorment)" (onSetAdditionalParam)="onSetPayloadHandler($event)"
                    (modalClose)="lgModal.hide();"></app-response-filter-payload>
            </div>
        </div>
    </div>
</div>